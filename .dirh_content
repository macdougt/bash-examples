# dirhistory

export DH="${HOME}/.dirhistory"

function dirHistoryFunction() {
   if [ -z "$1" ]
   then
      dh_list $DH
   else
      dh_list $DH | grep $*
   fi
}

alias dh=dirHistoryFunction
alias sdh='dh | grep $@'
alias cdl='cd `tail -2 $DH | head -1`'

# Override cd - change directory
function cd() { 
   if [ -f "$*" ]
   then
      dir=$(dirname $*)
      builtin cd "$dir" && appendif "`pwd`";
   else
      if [ -z "$*" ]; then
        builtin cd ${HOME} && appendif "`pwd`";
      else
        builtin cd "$*" && appendif "`pwd`";
      fi
   fi
}
export -f cd
function cn() { cd `cdn $1`; }
export -f cn
function cdd() { cd `getDir $1`; }
export -f cdd
function cdf() { >&2 echo "Moving to $1 diretory" && cd `cd_to_file $1`; }
export -f cdf

